# 06. AWS EBS

# 1. EBS (Elastic Block Store)

---

EC2 インスタンスに付けて使用するブロックストレージボリュームです。下記の特徴を確認下さい。

1. EC2 インスタンスのボリュームとして使用
2. AZ 内でレプリケート
3. ボリュームタイプの変更が可能
4. 容量の変更が可能
5. 鷹合耐久性のスナップショット
6. ボリュームの暗号化
7. 永続的ストレージ

8. EC2 インスタンスのボリュームとして使用

---

EBS は EC2 インスタンスのルートボリューム（ブートボリューム）または追加のボリュームとして使用。EC2 インスタンスと同様、不要になればいつでも削除することができる。必要な時に必要な量だけを利用する。

b. AZ 内でレプリケート

---

EBS は同じ AZ 内の複数サーバー間で自動的にレプリケートされます。レプリケートとは、複製を作ることです。つまり、たとえハードウェア障害が発生してもデータが失われることを防ぎます。

c. ボリュームタイプの変更が可能

---

EBS では標準の汎用 SSD 以外に、プロビジョンど IOPS SSD、スループット最適化 HDD、Cold HDD というボリュームタイプがあります。汎用 SSD の性能は最大でも 16,000IOPS で、かつ一定の性能を約束する物ではないです。IOPS とは、1 秒あたりにディスクが処理できる I/O アクセスの数のことです。持続的で一定の IOPS が必要な場合や、16,000 を超える IOPS が必要な場合はプロビジョンど IOPS SSD を検討します。逆に SSD 程の性能を必要とせず、コストを節約したい場合は、スループット最適化 HDD、さらにアクセス頻度が低い場合は Cold HDD を検討します。ボリュームタイプは使用を開始した後にも変更できます。使い始めた後に需要やニーズが変わった場合はボリュームタイプを変更して対応できます。

d. 容量変更が可能

---

EBS は確保しているストレージ容量に対して課金が発生します。ストレージ容量は使い始めてからでも増やすことが可能です。

e. 高い耐久性のスナップショット

---

先述したように EBS は同じ AZ 内の複数サーバー間で自動的にレプリケートされています。もしもその AZ が使えなくなった時、EBS も使えなくなります。EBS のスナップショットを作成すると、S3 の機能を使ってスナップショットが保存されます。

f. ボリュームの暗号化と永久的ストレージ

---

EBS の暗号化に対して追加の操作は必要ない。なお、EBS のデータは永久的であり、インスタンスは一時的である。

# 2. S3 (Amazon Simple Storage Service)

---

インターネット対応の完全マネージド型のオブジェクトストレージです。特徴は下記の通りです。

1. 無制限のストレージ容量
2. 高い耐久性
3. インターネット経由でアクセス

4. 無制限のストレージ容量

---

S3 ではバケットというデータの入れものを作成すれば、データを保存し始めることができます。容量は無制限です。1 つのファイルについては 5TB までという制限はありますが、頻繁にアクセスする 5TB 以上のファイルはないので、これは問題にはなりません。

b. 高い耐久性

---

S3 はリージョンを選択してバケットを作成し、データをオブジェクトとしてアップロートします。そのオブジェクトは 1 つのリージョン内の複数のアベイラビリティゾーンに跨って、自動的に冗長化して保存されます。各 AZ までの距離は数十 KM 離れた場所に設置されており、一つの S3 ストレージが物理的に壊れても高可用性を確保する仕組みになっております。S3 は耐久性がイレブンナイン(99.99999%)ですので、冗長化やバックアップを心配せず、開発に集中できます。

c. インタネット経由でアクセス

---

S3 は世界中のどこからでもアクセスできます。
