# 02. Global Infrastructure とその他

# 1. リージョンとアベイラビリティゾン

---

下記の画像通り、AWS サービスはリージョンとアベイラビリティゾーン(AZ)というデータセンターの集合体がある。顧客はこのリージョンと AZ を洗濯する。なお、リージョンと AZ のどちらが洗濯対象ん異なるかはサービスによって違う。AZ の数はリージョンによって相違があるが、必ず 2 つ以上の AZ が 1 つのリージョンに置いてある。なお、AZ には複数のデータセンターで構成されている。

![02%20Global%20Infrastructure%E3%81%A8%E3%81%9D%E3%81%AE%E4%BB%96%206191f7a4a71c4b1ca6cfdf6f51d4eeb7/region.png](02%20Global%20Infrastructure%E3%81%A8%E3%81%9D%E3%81%AE%E4%BB%96%206191f7a4a71c4b1ca6cfdf6f51d4eeb7/region.png)

### 疑問点を纏めてみました。

---

1. 何故 AZ は 2 つ以上あるのか

Design of Failure を想定しているからである。

2. データセンターについて

AZ は複数のデータセンターで構成されている。このデータセンターはどこにあるのか公開されていない。

3. エッジロケージョン

AWS にはリージョンとは違う場所に全世界 200 カ所以上のエッジロケーションがある。このエッジロケーションはリージョンが置いてない国や場所も含まれており、人口密度の高い年に配置されている。

なお、2 つの用途で利用されているので、押さえておく必要がある。

- 低レテンシーな DNS クエリん実現
- コンテンツの低レテンシー配信

4. 低レテンシーな DNS クエリの実現

DNS サービスである Amazon Route 53 がエッジロケーションで利用される。ユーザーに対して最も低レテンシーのエッジロケーションから DNS クエリの結果を返すことができる。

5. コンテンツの低レテンシー配信

CDN サービスである Amazon CloudFront がエッジロケーションで利用される。

6.  • AWS コマンドラインインターフェイス (AWS CLI) は AWS のすべてのリージョンで使用できます。
    • 別のユーザーにカスタム権限を付与する機能は、AWS のすべてのリージョンで利用可能です。
    Amazon CloudFront は、コンテンツ配信サービスです。エッジロケーションのネットワークを使用してコンテンツをキャッシュし、世界中のお客様にコンテンツを配信します。コンテンツがキャッシュされると、コピーとしてローカルに保存されます。このコンテンツは、動画ファイル、写真、ウェブページなどです。
    その他の選択肢は、以下の理由で正しくありません。
    • AWS Outposts は、ハイブリッドクラウドアプローチでインフラストラクチャを運用できるサービスです。
    • AWS Fargate は、コンテナ向けのサーバーレスコンピューティングエンジンです。
    • Amazon Simple Queue Service (Amazon SQS) は、キューを介してソフトウェアコンポーネント間でメッセージを送信、保存、受信できるサービスです。
    • リージョンは、互いに独立した複数のロケーションで構成される個別の地理的ロケーションです。
    • アベイラビリティーゾーンは、AWS グローバルインフラストラクチャの完全に独立した部分です。
    • オリジンは、CloudFront でファイルを取得するときに使用するサーバーです。CloudFront オリジンの例には、Amazon Simple Storage Service (Amazon S3) バケットやウェブサーバーなどがあります。注意: Amazon S3 については、このコースの後半で説明します。

### 今回の重要ポイント纏め

---

1. Region には AZ が２つ以上ある(ローカルリージョンを除く)
2. AZ は障害が同時に影響しないよう、地理的に十分離れた場所にある。
3. 同一リージョン内の AZ 同士は高速なプライベート光ファイバーネットワーキングで接続されている。
4. 複数の AZ を使うことで、耐障害性・可溶性の高いアーキテクチャを実装できる。
5. データセンターは、セキュリティ・コンプライアンス上の様々な第三者監査検証を実施している。
6. リージョンとは違う場所に 200 以上のエッジロケーションがある。
7. エッジロケーションでは Amazon Route 53 と Amazon CloudFront を利用でき、これにより低レイテンシーな DNS クエリが実現される。
8. ユーザーは最も低レイテンシーのえいっじロケーションにアクセスできる。
9. Amazon Route 53 と Amazon CloudFront は AWS Shield により DDos 攻撃から保護される。
10. AWS のサービスはカテゴリーに分類されている。その分類は、マネジメントコンソールで確認可能。
11. グローバルインフラストラクチャは、リージョン・AZ・エッジロケーションから構成される。
12. リージョンはシステム要件に応じて柔軟に選択可能。これにより、世界中にシステムを容易にデプロイ可能。
13. エッジロケーションでは Amazon CloudFront が利用され、これによってコンテンツの低レイテンシーな配信が実現される。
